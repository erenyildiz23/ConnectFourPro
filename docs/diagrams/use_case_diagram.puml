@startuml use_case_diagram

title Connect Four System - Use Case Diagram

left to right direction
skinparam packageStyle rectangle
skinparam actorStyle awesome

' Actors
actor "Player" as player
actor "Guest" as guest
actor "AI Engine" as ai <<system>>
actor "Database" as db <<system>>

' System boundary
rectangle "Connect Four System" {
    
    ' Authentication use cases
    usecase "Register Account" as UC1
    usecase "Login" as UC2
    usecase "Logout" as UC3
    
    ' Game management use cases
    usecase "Create Game Room" as UC4
    usecase "Join Game Room" as UC5
    usecase "View Active Games" as UC6
    usecase "Spectate Game" as UC7
    
    ' Gameplay use cases
    usecase "Make Move" as UC8
    usecase "Play vs AI" as UC9
    usecase "Play vs Human" as UC10
    
    ' System operations
    usecase "Validate Move" as UC11
    usecase "Check Win Condition" as UC12
    usecase "Calculate AI Move" as UC13
    usecase "Update ELO Rating" as UC14
    
    ' Information use cases
    usecase "View Leaderboard" as UC15
    usecase "View Game History" as UC16
}

' Player relationships
player --> UC1
player --> UC2
player --> UC3
player --> UC4
player --> UC5
player --> UC6
player --> UC7
player --> UC8
player --> UC9
player --> UC10
player --> UC15
player --> UC16

' Guest relationships (limited)
guest --> UC6
guest --> UC7
guest --> UC15

' Include relationships
UC8 ..> UC11 : <<include>>
UC8 ..> UC12 : <<include>>
UC9 ..> UC13 : <<include>>
UC10 ..> UC14 : <<include>>

' Extend relationships
UC5 ..> UC7 : <<extend>>

' System actor relationships
ai --> UC13
db --> UC14
db --> UC1
db --> UC2
db --> UC15
db --> UC16

note right of UC9
  AI Difficulty Levels:
  - Easy (Depth 2)
  - Medium (Depth 4)
  - Hard (Depth 6)
end note

note bottom of UC12
  Uses bitboard representation
  for O(1) win detection
end note

@enduml
