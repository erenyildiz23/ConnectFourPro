@startuml component_diagram

title Connect Four System - Component Diagram

skinparam componentStyle uml2
skinparam packageStyle rectangle

' ========== GUI APPLICATION ==========
package "GUI Application" <<Rectangle>> {
    
    [gui_app.py] as GUI
    [InputBox] as Input
    [Button] as Btn
    [NetworkClient] as NetClient
    
    GUI --> Input : uses
    GUI --> Btn : uses
    GUI --> NetClient : owns
}

' ========== GAME LOGIC ==========
package "Game Logic" <<Rectangle>> {
    
    [game_core.py] as GameCore
    [ConnectFourGame] as Game
    
    GameCore --> Game : defines
    
    note right of Game
        **Bitboard Implementation**
        - 49-bit state per player
        - O(1) win detection
        - O(1) move validation
    end note
}

' ========== AI MODULE ==========
package "AI Module" <<Rectangle>> {
    
    [ai_vs_human.py] as AIModule
    [AIEngine] as AIEngine
    
    AIModule --> AIEngine : defines
    
    note right of AIEngine
        **Minimax + Alpha-Beta**
        - Configurable depth (1-6)
        - Position evaluation
        - Threat detection
    end note
}

' ========== SERVER ==========
package "Server Application" <<Rectangle>> {
    
    [server.py] as Server
    [Flask Routes] as Routes
    [SocketIO Events] as Events
    [Room Manager] as Rooms
    
    Server --> Routes : defines
    Server --> Events : defines
    Server --> Rooms : manages
}

' ========== DATABASE ==========
package "Data Access" <<Rectangle>> {
    
    [database.py] as DB
    [DatabaseManager] as DBMgr
    [Connection Pool] as Pool
    
    DB --> DBMgr : defines
    DBMgr --> Pool : uses
}

' ========== TESTING ==========
package "Testing Suite" <<Rectangle>> {
    
    [ai_performance_suite.py] as AISuite
    [network_benchmark.py] as NetBench
    [locustfile.py] as Locust
    [thesis_visualization.py] as Viz
    
    note bottom of AISuite
        - Latency tests
        - Tournament simulation
        - Scenario validation
    end note
}

' ========== INTERFACES ==========

interface "REST API" as RESTAPI
interface "WebSocket" as WSAPI
interface "SQL" as SQLAPI

' ========== DEPENDENCIES ==========

GUI ..> GameCore : imports
GUI ..> AIModule : imports
NetClient ..> RESTAPI : HTTP
NetClient ..> WSAPI : Socket.IO

Server ..> GameCore : imports
Server ..> RESTAPI : exposes
Server ..> WSAPI : exposes
Server ..> DB : imports

DBMgr ..> SQLAPI : queries

AISuite ..> GameCore : tests
AISuite ..> AIModule : tests
NetBench ..> Server : tests
Locust ..> Server : load tests
Viz ..> AISuite : visualizes
Viz ..> NetBench : visualizes

' ========== EXTERNAL ==========

cloud "PostgreSQL" as PG
cloud "SQLite" as SQLite

SQLAPI --> PG
SQLAPI --> SQLite

@enduml
